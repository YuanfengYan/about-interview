<!--
 * @Description: 
 * @Author: yanyuanfeng
 * @Date: 2022-07-06 15:18:14
 * @LastEditors: yanyuanfeng
 * @LastEditTime: 2022-07-21 18:41:06
-->
# 总结

## Vue

### 1. 如何去扩展现有组件？

逻辑扩展: mixins、 extends、 composition api

内容扩展： slots

### 2. 如何制作vue插件？ 以及vue2和3有什么写法区别

    首先vue插件功能分类：

  - 添加全局方法或者 property。如：vue-custom-element

  - 添加全局资源：指令/过渡等。如：vue-touch）

  - 通过全局 mixin 来添加一些组件选项。(如vue-router)

  - 添加全局实例方法，通过把它们添加到 config.globalProperties 上实现。

  - 一个库，提供自己的 API，同时提供上面提到的一个或多个功能。如 vue-router

区别：

    use(plugin)自动调用install函数时
    vue2: 自动传入Vue实例
    vue3: 自动传入App应用实例

    定义全局访问
    vue2: Vue.prototype.$plugin
    vue3: app.config.globalProperties.$plugin

    挂载组件
    vue2: Vue.extend(plugin) + 构造器实例化 + 挂载
    vue3: createApp(plugin) + 挂载



vue2

```javascript
MyPlugin.install = function (Vue, options) {
  // 1. 添加全局方法或属性
  Vue.myGlobalMethod = function () {
    // 逻辑...
  }

  // 2. 添加全局资源
  Vue.directive('my-directive', {
    bind (el, binding, vnode, oldVnode) {
      // 逻辑...
    }
    ...
  })

  // 3. 注入组件
  Vue.mixin({
    created: function () {
      // 逻辑...
    }
    ...
  })

  // 4. 添加实例方法
  Vue.prototype.$myMethod = function (methodOptions) {
    // 逻辑...
  }
}
// 调用 `MyPlugin.install(Vue)`
Vue.use(MyPlugin)

new Vue({
  //... options
})

```

vue3

```javascript
MyPlugin.install = function (app, options) {
  // 2. 添加全局资源 指令
  app.directive('my-directive', {
    // 在绑定元素的 attribute 或事件监听器被应用之前调用
    created(...arg) {
      console.log(arg)
    },
    // 在绑定元素的父组件挂载之前调用
    beforeMount() {},
    // 在绑定元素的父组件挂载之后调用
    mounted(el,binding,vnode) {
    },
    // 在包含组件的 VNode 更新之前调用
    beforeUpdate() {},
    // 在包含组件的 VNode 及其子组件的 VNode 更新之后调用
    updated() {},
    // 在绑定元素的父组件卸载之前调用
    beforeUnmount() {},
    // 在绑定元素的父组件卸载之后调用
    unmounted() {}
    })
  })
  //3、定义全局
  app.config.globalProperties.$plugin = instance;
}

```

### 3. VUE的生命周期及理解？

  总共分为8个阶段，具体为：创建前/后，载入前/后，更新前/后，销毁前/后。

  - 创建前/后： 在beforeCreated阶段：vue实例的挂载元素$el和数据对象data都为undefined，还未初始化；在created阶段，vue实例的数据对象data有了，$el还没有。
  - 载入前/后：在beforeMount阶段，vue实例的$el和data都初始化了，但还是挂载之前为虚拟的dom节点，data.message还未替换；在mounted阶段，vue实例挂载完成，data.message成功渲染。
  - 更新前/后：当data变化时，会触发beforeUpdate和updated方法。
  - 销毁前/后：在执行destroy方法后，对data的改变不会再触发周期函数，说明此时vue实例已经解除了事件监听以及和dom的绑定，但是dom结构依然存在。

### 4. vue的自定义指令？

### 5. vue的diff算法理解？

### 6. vue组件的通信

### 7. vue的keep-alive的理解？

### 8. computed和watch的用法和区别？


## 参考文档
[el x修改激活的菜单_Vue3.0文档 VS Vue2.x文档 有哪些不同](https://blog.csdn.net/weixin_35831256/article/details/112166478)
[vue2 面试](https://zhuanlan.zhihu.com/p/388256334)